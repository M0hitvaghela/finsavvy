<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login – FinSavvy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
</head>
<body class="bg-light d-flex flex-column min-vh-100">

  <!-- Header -->
  <header class="bg-white border-bottom shadow-sm">
    <div class="container py-3 d-flex justify-content-between align-items-center">
      <h1 class="h3 text-primary m-0"><a class="navbar-brand" href="/">FinSavvy</a></h1>
      <nav class="d-flex gap-3">
        <a href="{{ url_for('auth.home') }}" class="text-dark text-decoration-none fw-semibold">Home</a>
        <a href="{{ url_for('main.about') }}" class="text-dark text-decoration-none fw-semibold">About Us</a>
        <a href="{{ url_for('main.contact') }}" class="text-dark text-decoration-none fw-semibold">Contact</a>
        <a href="{{ url_for('auth.register') }}" class="text-primary text-decoration-none fw-semibold">Register</a>
      </nav>
    </div>
  </header>

  <!-- Login Content -->
  <main class="flex-grow-1">
    <div class="login-container d-flex align-items-center justify-content-center py-5">
      <div class="row shadow-lg login-card w-100" style="max-width: 900px;">

        <!-- Illustration Column -->
        <div class="col-lg-6 d-none d-lg-flex bg-light">
          <img src="{{ url_for('static', filename='assets/fin.jpg') }}" alt="Finance Illustration" class="img-fluid m-auto p-3">
        </div>

        <!-- Form Column -->
        <div class="col-lg-6 p-5 bg-white">
          <h3 class="mb-4 text-center">Welcome Back</h3>

          {% with messages = get_flashed_messages() %}
          {% if messages %}
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
              <ul class="mb-0">
                {% for msg in messages %}
                  <li>{{ msg }}</li>
                {% endfor %}
              </ul>
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
          {% endif %}
          {% endwith %}

          <form action="{{ url_for('auth.login') }}" method="POST" class="needs-validation" novalidate>
            <div class="form-group mb-3">
              <label for="email" class="form-label">Email address</label>
              <input type="email" class="form-control form-control-lg rounded-3" id="email" name="email" placeholder="name@example.com" required>
              <div class="invalid-feedback">Please enter a valid email.</div>
            </div>

            <div class="form-group mb-4">
              <label for="password" class="form-label">Password</label>
              <input type="password" class="form-control form-control-lg rounded-3" id="password" name="password" placeholder="••••••••" required>
              <div class="invalid-feedback">Password cannot be empty.</div>
            </div>

            <button type="submit" class="btn btn-primary btn-lg w-100 mb-3 btn-animate">Log In</button>
          </form>

          <div class="text-center">
            <small>Don’t have an account? <a href="{{ url_for('auth.register') }}" class="link-primary">Sign up here</a></small>
          </div>
          <!-- inside the Form Column, right below the form -->
<div class="text-center mb-3">
  <a href="{{ url_for('auth.forgot_password') }}" class="link-secondary">Forgot Password?</a>
</div>

        </div>

      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-dark text-white py-3 mt-auto">
    <div class="container text-center">
      <p class="mb-1">© 2025 FinSavvy. All rights reserved.</p>
      <div>
        <a href="{{ url_for('auth.home') }}" class="text-white text-decoration-none me-3">Home</a>
        <a href="{{ url_for('main.about') }}" class="text-white text-decoration-none me-3">About Us</a>
        <a href="{{ url_for('main.contact') }}" class="text-white text-decoration-none">Contact</a>
      </div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Validation Script -->
  <script>
    (() => {
      'use strict';
      const forms = document.querySelectorAll('.needs-validation');
      Array.from(forms).forEach(form => {
        form.addEventListener('submit', ev => {
          if (!form.checkValidity()) {
            ev.preventDefault();
            ev.stopPropagation();
          }
          form.classList.add('was-validated');
        }, false);
      });
    })();
  </script>
</body>
</html>
